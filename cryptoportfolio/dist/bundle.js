!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var r=function(e,t){return(t||document).querySelector(e)},a=function(e,t,n){e.addEventListener(t,n)},i=function(e,t,n,r){a(e,n,(function(n){for(var a=n.target,i=function(e,t){return(t||document).querySelectorAll(e)}(t,e),o=i.length;o--;)if(i[o]===a){r.call(a,n);break}}))},o=function(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)},c=function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:n[e].length-1,i={};return i.value=e,i.name=t[e].name,i.interval=r,i.count=t[e].count,i.costNow=n[e][a].cost*i.count,i.costAgo=n[e][a-r].cost*i.count,i.difference=i.costAgo-i.costNow,i.percent=-i.difference/(i.costAgo/100),i},l=function(e,t){return o(Math.random()*e,t)};function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=window.localStorage;this.getLocalStorage=function(){return JSON.parse(n.getItem(t)||"[]")},this.setLocalStorage=function(e){return n.setItem(t,JSON.stringify(e))};var r=function(e,t){var n={wallet:{BTC:{name:"Bitcoin",count:l(1,5)},ETH:{name:"Ethereum",count:l(10,4)},XRF:{name:"Ripple",count:l(100,3)},MNR:{name:"MeNeverRip",count:l(1e4,1)}},rate:{BTC:[],ETH:[],XRF:[],MNR:[]},interval:[1,7,30,365][l(3,0)]};if(t<1830)throw new Error("Count min 366");e=e.split("-");for(var r=new Date(e[0],e[1],e[2]),a=0;a<t;a++){r.setDate(r.getDate()+1);var i=r.getFullYear()+"-"+(r.getMonth()+1)+"-"+r.getDate();n.rate.BTC.push({date:i,cost:l(1e4,5)}),n.rate.ETH.push({date:i,cost:l(1e3,5)}),n.rate.XRF.push({date:i,cost:l(100,5)}),n.rate.MNR.push({date:i,cost:l(10,5)})}return n}("2015-00-01",1830);this.setLocalStorage(r),this.wallet,this.rate,this.interval}var t,n,r;return t=e,(n=[{key:"init",value:function(){var e=this.getLocalStorage();this.wallet=e.wallet,this.rate=e.rate,this.interval=e.interval}},{key:"updateInterval",value:function(e){this.interval=e,this.setLocalStorage({wallet:this.wallet,rate:this.rate,interval:e})}}])&&s(t.prototype,n),r&&s(t,r),e}();function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var h=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"walletList",value:function(e,t,n){var r="";for(var a in e){var i=c(a,e,t,n);r+='\n      <div class="wallet">\n        <div class="walletlogo" data-logotype="'.concat(i.value,'">\n          <img src="cryptoportfolio/img/').concat(i.value,'.png" alt="').concat(i.value,'" />\n        </div>\n        <div class="namecount">\n          <h3>').concat(i.value,"</h3>\n          <p>").concat(i.count,'</p>\n        </div>\n        <p class="cost">$').concat(o(i.costNow,2),'</p>\n        <p class="').concat(i.difference<0?"increase":"decrease",'">').concat(i.difference<0?"+":"").concat(o(i.percent,2),"%</p>\n      </div>")}return r+='\n    <div class="wallet">\n      <div class="walletlogo">\n        <img src="cryptoportfolio/img/plus.png" alt="Plus" />\n      </div>\n      <h3>Add</h3>\n      <p>wallet</p>\n    </div>'}}])&&f(t.prototype,n),r&&f(t,r),e}();function v(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var p=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=new h,this.$wallets=r("#wallets")}var t,n,a;return t=e,(n=[{key:"showWallets",value:function(e){var t=e.wallet,n=e.rate,r=e.interval;this.$wallets.innerHTML=this.template.walletList(t,n,r)}}])&&v(t.prototype,n),a&&v(t,a),e}();function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"interestList",value:function(e,t,n){var r=[];for(var a in e){var i=c(a,e,t,n),l=1===n?"day":7===n?"week":30===n?"month":"year";r.push({percent:i.percent,string:'<div class="interitem">\n                  <div class="walletlogo" data-logotype="'.concat(i.value,'">\n                    <img src="cryptoportfolio/img/').concat(i.value,'.png" alt="').concat(i.value,'" />\n                  </div>\n                  <div class="group1">\n                    <p>').concat(i.name,"</p>\n                    <p>").concat(i.value,'</p>\n                  </div>\n                  <div class="group2">\n                    <p>per ').concat(l,'</p>\n                    <p class="').concat(i.difference<0?"increase":"decrease",'">').concat(i.difference<0?"+":"").concat(o(i.percent,2),"%</p>\n                  </div>\n                </div>")})}return r.sort((function(e,t){var n=e.percent;return t.percent-n})).length=3,r.map((function(e){return e.string})).join("")}}])&&w(t.prototype,n),r&&w(t,r),e}();function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var g=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=new d,this.$interest=r("#interitems")}var t,n,a;return t=e,(n=[{key:"showInterest",value:function(e){var t=e.wallet,n=e.rate,r=e.interval;this.$interest.innerHTML=this.template.interestList(t,n,r)}}])&&y(t.prototype,n),a&&y(t,a),e}();function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var m=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"showMost",value:function(e,t,n,r){var a=[];for(var i in e)a.push(c(i,e,t,n));a.sort((function(e,t){var n=e.difference,a=t.difference;return"profitable"===r?n-a:a-n}));for(var l="",s=function(e){return 1===e?"day":7===e?"week":30===e?"month":"year"},u=0,f=["day","week","month","year"];u<f.length;u++){var h=f[u];l+="<a ".concat(s===h?'class="active"':"",' href="#">').concat(h,"</a>")}var v=a[0];return'\n    <div class="headmost">\n      <h3>The most '.concat(r,"</h3>\n      <p>").concat(s(v.interval),'</p>\n      <div class="dropdown">\n        <img src="cryptoportfolio/img/arrow.png" alt="arrow" />\n        <div class="dropdowncontent">\n          ').concat(l,'\n        </div>\n      </div>\n    </div>\n    <hr />\n    <div class="down">\n      <div class="walletlogo">\n        <img src="cryptoportfolio/img/').concat(v.value,'.png" alt="').concat(v.value,'" />\n      </div>\n      <h3>').concat(v.value," ").concat(o(v.count,5),'</h3>\n      <div class="low">\n        <p>$').concat(o(v.costNow,2),"</p>\n        <p class=").concat(v.difference<0?"increase":"decrease",">").concat(v.difference<0?"+":"").concat(o(v.percent,2),"%</p>\n      </div>\n    </div>")}}])&&b(t.prototype,n),r&&b(t,r),e}();function k(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var O=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=new m,this.$most=r("#most"),this.$profitable=r("#profitable"),this.$unprofitable=r("#unprofitable")}var t,n,a;return t=e,(n=[{key:"showMost",value:function(e){var t=e.wallet,n=e.rate,r=e.interval,a=e.id;this["$".concat(a)].innerHTML=this.template.showMost(t,n,r,a)}},{key:"bindChangeInterval",value:function(e){i(this.$most,"a","click",(function(t){var n=t.target;return e(n.innerHTML,n.parentNode.parentNode.parentNode.parentNode.id)}))}}])&&k(t.prototype,n),a&&k(t,a),e}();function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,r;return t=e,(n=[{key:"graphShow",value:function(e,t,n){var r="",a=0,i=0;for(var c in e)a+=t[c][t[c].length-1].cost*e[c].count,i+=t[c][t[c].length-n-1].cost*e[c].count;for(var l=i-a,s="",u=function(e){return 1===e?"1d":7===e?"1w":30===e?"1m":"1y"},f=0,h=["1d","1w","1m","1y"];f<h.length;f++){var v=h[f];s+="<a ".concat(u(n)===v?'class="active"':""," href='#'>").concat(v,"</a>")}return r+="\n      <h3>Balance</h3>\n        <p>$ ".concat(o(a,2),"</p>\n        <p  class=").concat(l<=0?"increase":"decrease",">").concat(l<=0?"+":"-","$ ").concat(o(Math.abs(l),2)," (").concat(o(Math.abs(l)/(i/100),2),"%)</p>\n        <p>In USD</p>\n        <div id='interval'>\n          ").concat(s,"\n        </div>")}},{key:"graphChart",value:function(e,t,n,r){r.clientWidth,r.clientHeight;var a=[];for(var i in e)a.push(c(i,e,t,n));return a.sort((function(e,t){var n=e.percent;return t.percent-n})),console.log(a),"\n    <div id='scale'>\n      <p>+".concat(o(a[0].percent,0),"%</p>\n      <p>+").concat(o(a[0].percent/2,0),"%</p>\n      <p>0%</p>\n      <p>").concat(o(a[a.length-1].percent/2,0),"%</p>\n      <p>").concat(o(a[a.length-1].percent,0),"%</p>\n    </div>")}}])&&T(t.prototype,n),r&&T(t,r),e}();function j(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.template=new M,this.$balance=r("#balance"),this.$chart=r("#chart"),this.$scale=r("#scale"),this.$dates=r("#dates"),this.$lines=r("#lines"),this.$blocks=r("#blocks")}var t,n,a;return t=e,(n=[{key:"showBalance",value:function(e){var t=e.wallet,n=e.rate,r=e.interval;this.$balance.innerHTML=this.template.graphShow(t,n,r)}},{key:"getDate",value:function(e,t){return new Date(e).toString().split(" ")[t<30?0:30===t?1:3].toLowerCase()}},{key:"showChart",value:function(e){var t=this,n=e.wallet,r=e.rate,a=e.interval,i=0,l=this.$chart.getBoundingClientRect(),s=this.$chart.clientWidth,u=this.$chart.clientHeight,f=[];for(var h in n)f.push(c(h,n,r,a)),i++;var v=[];for(var p in n)for(var w=0;w<5;w++)v.push(c(p,n,r,a,r[p].length-1-a*(i-w)).percent);v.sort((function(e,t){return t-e}));var d=[o(v[0],0),o(v[0]/2,0),0,o(v[v.length-1]/2,0),o(v[v.length-1],0)];d.forEach((function(e,n){var r=document.createElement("p");r.innerHTML="".concat(e>0?"+":"").concat(e,"%"),r.style.top=l.y+(u-10)*(1/(d.length-1))*n+"px",r.style.left=l.right+"px",t.$scale.append(r);var a=document.createElement("div");a.style.top=l.y+u*(1/(d.length-1))*n+"px",a.style.width=s+"px",t.$lines.append(a)}));for(var y=[],g=4;g>=0;g--)y.push(this.getDate(r.BTC[r.BTC.length-g*a-1].date,a));var b=(s-.05*s*(i-1))/y.length/i,m=b*i*.5;y.forEach((function(e,n){var r=document.createElement("p");r.innerHTML=e,r.style.top=l.y+u+10+"px",r.style.left=l.x+(s-10-2*m)*(1/(y.length-1))*n+m+"px",t.$dates.append(r)}));for(var k=0;k<y.length;k++){for(var O=document.createElement("div"),T=0;T<i;T++){var M=c(f[T].value,n,r,a,r[f[T].value].length-1-a*(i-k)),j=document.createElement("div");j.className=M.value,j.style.width=b+"px",j.style.left=l.x+(s-10-2*m)*(1/(y.length-1))*k+m+5-b/2+b*(i-1)/2-T*b+"px";var C=void 0,$=c(M.value,n,r,a,r[M.value].length-1-a*(i-k)).percent;C=M.percent>0?$/-v[0]*u/2:$/v[v.length-1]*u/2,j.style.height=Math.abs(C)+"px",j.style.top=l.y+u/2+(C<0?C:0)+"px",O.append(j)}this.$blocks.append(O)}}},{key:"resetChart",value:function(){this.$scale.innerHTML="",this.$dates.innerHTML="",this.$lines.innerHTML="",this.$blocks.innerHTML=""}},{key:"bindChangeInterval",value:function(e){i(this.$balance,"#interval a","click",(function(t){var n=t.target;return e(n.innerHTML)}))}}])&&j(t.prototype,n),a&&j(t,a),e}();function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var E=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.view=n,this.view.showWallets=n.showWallets.bind(this.view)}var t,n,r;return t=e,(n=[{key:"render",value:function(){var e=this.store,t=e.wallet,n=e.rate,r=e.interval;this.view.showWallets({wallet:t,rate:n,interval:r})}}])&&$(t.prototype,n),r&&$(t,r),e}();function P(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var L=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.view=n,this.view.showInterest=n.showInterest.bind(this.view)}var t,n,r;return t=e,(n=[{key:"render",value:function(){var e=this.store,t=e.wallet,n=e.rate,r=e.interval;this.view.showInterest({wallet:t,rate:n,interval:r})}}])&&P(t.prototype,n),r&&P(t,r),e}();function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){x(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function x(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function H(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var N=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.view=n,this.profittime=30,this.unprofittime=30,this.view.showMost=n.showMost.bind(this.view),n.bindChangeInterval(this.changeInterval.bind(this))}var t,n,r;return t=e,(n=[{key:"render",value:function(){var e=this.store,t={wallet:e.wallet,rate:e.rate};this.view.showMost(I(I({},t),{},{interval:this.profittime,id:"profitable"})),this.view.showMost(I(I({},t),{},{interval:this.unprofittime,id:"unprofitable"}))}},{key:"changeInterval",value:function(e,t){var n=this.store,r=n.wallet,a=n.rate;"profitable"!==t&&"unprofitable"!==t&&new Error("Id uncorrect"),this[t]="day"===e?1:"week"===e?7:"month"===e?30:365;var i={wallet:r,rate:a,interval:this[t],id:t};this.view.showMost(i)}}])&&H(t.prototype,n),r&&H(t,r),e}();function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var D=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.view=n,this.relayout=r,this.view.showBalance=n.showBalance.bind(this.view),this.view.showChart=n.showChart.bind(this.view),n.bindChangeInterval(this.changeInterval.bind(this))}var t,n,r;return t=e,(n=[{key:"render",value:function(){var e=this.store,t=e.wallet,n=e.rate,r=e.interval;this.view.showBalance({wallet:t,rate:n,interval:r}),this.view.resetChart(),this.view.showChart({wallet:t,rate:n,interval:r})}},{key:"changeInterval",value:function(e){this.store.updateInterval("1d"===e?1:"1w"===e?7:"1m"===e?30:365),this.relayout()}}])&&B(t.prototype,n),r&&B(t,r),e}();function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var W=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wallet=new E(t,n.wallet),this.interest=new L(t,n.interest),this.most=new N(t,n.most),this.graph=new D(t,n.graph,this.relayout.bind(this)),this.store=t,this.view=n}var t,n,r;return t=e,(n=[{key:"init",value:function(){this.wallet.render(),this.interest.render(),this.most.render(),this.graph.render()}},{key:"relayout",value:function(){this.wallet.render(),this.interest.render(),this.graph.render()}}])&&R(t.prototype,n),r&&R(t,r),e}(),_=new u("cryptoportfolio");_.init();var A=new W(_,new function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.wallet=new p,this.interest=new g,this.most=new O,this.graph=new C});a(window,"load",(function(){return A.init()}))}]);